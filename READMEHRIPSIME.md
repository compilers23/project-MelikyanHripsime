It is working currently with the simple code that I tested.
Use make and make test to test this.
If I have time I will try to improve the codes.
